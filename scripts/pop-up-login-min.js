var loginLink=document.querySelector(".login-link"),loginPopup=document.querySelector(".pop-up-login"),loginPopupCloseBtn=loginPopup.querySelector(".close-button"),loginForm=loginPopup.querySelector("form"),login=loginPopup.querySelector(".login-item-login input"),password=loginPopup.querySelector(".login-item-password input"),remember=loginPopup.querySelector(".login-item-checkbox input"),isStorageSupport=!0,storageLogin="";loginForm.noValidate=!0;try{storageLogin=localStorage.getItem("login")}catch(o){isStorageSupport=!1}loginLink.addEventListener("click",function(o){o.preventDefault(),loginPopup.classList.add("pop-up-show"),storageLogin?(login.value=storageLogin,password.focus()):login.focus()}),loginPopupCloseBtn.addEventListener("click",function(){loginPopup.classList.remove("pop-up-show"),loginPopup.classList.remove("pop-up-error")}),window.addEventListener("keydown",function(o){"Esc"!==o.key&&"Escape"!==o.key||loginPopup.classList.contains("pop-up-show")&&(o.preventDefault(),loginPopup.classList.remove("pop-up-show"),loginPopup.classList.remove("pop-up-error"))}),loginForm.addEventListener("submit",function(o){login.value&&password.value?remember.checked&&isStorageSupport&&localStorage.setItem("login",login.value):(o.preventDefault(),loginPopup.classList.remove("pop-up-error"),loginPopup.offsetWidth=loginPopup.offsetWidth,loginPopup.classList.add("pop-up-error"),(login.value?password:login).focus())});